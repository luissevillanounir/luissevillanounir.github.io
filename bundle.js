!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function n(n){if(!(n>=1))throw new Error;this._size=n,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function t(n){if(!n._start)try{e(n)}catch(t){if(n._tasks[n._ended+n._active-1])i(n,t);else if(!n._data)throw t}}function e(n){for(;n._start=n._waiting&&n._active<n._size;){var t=n._ended+n._active,e=n._tasks[t],i=e.length-1,o=e[i];e[i]=r(n,t),--n._waiting,++n._active,e=o.apply(null,e),n._tasks[t]&&(n._tasks[t]=e||Zr)}}function r(n,e){return function(r,u){n._tasks[e]&&(--n._active,++n._ended,n._tasks[e]=null,null==n._error&&(null!=r?i(n,r):(n._data[e]=u,n._waiting?t(n):o(n))))}}function i(n,t){var e,r=n._tasks.length;for(n._error=t,n._data=void 0,n._waiting=NaN;--r>=0;)if((e=n._tasks[r])&&(n._tasks[r]=null,e.abort))try{e.abort()}catch(t){}n._active=NaN,o(n)}function o(n){if(!n._active&&n._call){var t=n._data;n._data=void 0,n._call(n._error,t)}}function u(t){return new n(arguments.length?+t:1/0)}function a(){}function c(n,t){var e=new a;if(n instanceof a)n.each(function(n,t){e.set(t,n)});else if(Array.isArray(n)){var r,i=-1,o=n.length;if(null==t)for(;++i<o;)e.set(i,n[i]);else for(;++i<o;)e.set(t(r=n[i],i,n),r)}else if(n)for(var u in n)e.set(u,n[u]);return e}function l(){}function s(n,t){var e=new l;if(n instanceof l)n.each(function(n){e.add(n)});else if(n){var r=-1,i=n.length;if(null==t)for(;++r<i;)e.add(n[r]);else for(;++r<i;)e.add(t(n[r],r,n))}return e}function f(){for(var n,t=0,e=arguments.length,r={};t<e;++t){if(!(n=arguments[t]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new h(r)}function h(n){this._=n}function p(n,t){return n.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");if(r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}})}function d(n,t){for(var e,r=0,i=n.length;r<i;++r)if((e=n[r]).name===t)return e.value}function g(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=Gr,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:t,value:e}),n}function v(n){return function(t,e){n(null==t?e:null)}}function m(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function y(n){return new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}")}function _(n,t){var e=y(n);return function(r,i){return t(e(r),i,n)}}function w(n){var t=Object.create(null),e=[];return n.forEach(function(n){for(var r in n)r in t||e.push(t[r]=r)}),e}function x(n,t){return function(e){return n(e.responseText,t)}}function M(n){return function(t,e){return oi(n(t),e)}}function b(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function S(){}function E(n){var t;return n=(n+"").trim().toLowerCase(),(t=mi.exec(n))?(t=parseInt(t[1],16),new A(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=yi.exec(n))?T(parseInt(t[1],16)):(t=_i.exec(n))?new A(t[1],t[2],t[3],1):(t=wi.exec(n))?new A(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xi.exec(n))?C(t[1],t[2],t[3],t[4]):(t=Mi.exec(n))?C(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=bi.exec(n))?Y(t[1],t[2]/100,t[3]/100,1):(t=Si.exec(n))?Y(t[1],t[2]/100,t[3]/100,t[4]):Ei.hasOwnProperty(n)?T(Ei[n]):"transparent"===n?new A(NaN,NaN,NaN,0):null}function T(n){return new A(n>>16&255,n>>8&255,255&n,1)}function C(n,t,e,r){return r<=0&&(n=t=e=NaN),new A(n,t,e,r)}function N(n){return n instanceof S||(n=E(n)),n?(n=n.rgb(),new A(n.r,n.g,n.b,n.opacity)):new A}function k(n,t,e,r){return 1===arguments.length?N(n):new A(n,t,e,null==r?1:r)}function A(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}function Y(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new F(n,t,e,r)}function D(n){if(n instanceof F)return new F(n.h,n.s,n.l,n.opacity);if(n instanceof S||(n=E(n)),!n)return new F;if(n instanceof F)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=t===o?(e-r)/a+6*(e<r):e===o?(r-t)/a+2:(t-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new F(u,a,c,n.opacity)}function U(n,t,e,r){return 1===arguments.length?D(n):new F(n,t,e,null==r?1:r)}function F(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function P(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function X(n){if(n instanceof L)return new L(n.l,n.a,n.b,n.opacity);if(n instanceof $){var t=n.h*Ti;return new L(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}n instanceof A||(n=N(n));var e=H(n.r),r=H(n.g),i=H(n.b),o=O((.4124564*e+.3575761*r+.1804375*i)/Ni),u=O((.2126729*e+.7151522*r+.072175*i)/ki);return new L(116*u-16,500*(o-u),200*(u-O((.0193339*e+.119192*r+.9503041*i)/Ai)),n.opacity)}function B(n,t,e,r){return 1===arguments.length?X(n):new L(n,t,e,null==r?1:r)}function L(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}function O(n){return n>Fi?Math.pow(n,1/3):n/Ui+Yi}function j(n){return n>Di?n*n*n:Ui*(n-Yi)}function q(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function H(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function R(n){if(n instanceof $)return new $(n.h,n.c,n.l,n.opacity);n instanceof L||(n=X(n));var t=Math.atan2(n.b,n.a)*Ci;return new $(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function z(n,t,e,r){return 1===arguments.length?R(n):new $(n,t,e,null==r?1:r)}function $(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}function I(n){if(n instanceof W)return new W(n.h,n.s,n.l,n.opacity);n instanceof A||(n=N(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(Hi*r+ji*t-qi*e)/(Hi+ji-qi),o=r-i,u=(Oi*(e-i)-Bi*o)/Li,a=Math.sqrt(u*u+o*o)/(Oi*i*(1-i)),c=a?Math.atan2(u,o)*Ci-120:NaN;return new W(c<0?c+360:c,a,i,n.opacity)}function Z(n,t,e,r){return 1===arguments.length?I(n):new W(n,t,e,null==r?1:r)}function W(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function G(n,t){return function(e){return n+e*t}}function J(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function V(n,t){var e=t-n;return e?G(n,e>180||e<-180?e-360*Math.round(e/360):e):Ri(isNaN(n)?t:n)}function Q(n){return 1==(n=+n)?K:function(t,e){return e-t?J(t,e,n):Ri(isNaN(t)?e:t)}}function K(n,t){var e=t-n;return e?G(n,e):Ri(isNaN(n)?t:n)}function nn(n){return function(){return n}}function tn(n){return function(t){return n(t)+""}}function en(n){return function t(e){function r(t,r){var i=n((t=Z(t)).h,(r=Z(r)).h),o=K(t.s,r.s),u=K(t.l,r.l),a=K(t.opacity,r.opacity);return function(n){return t.h=i(n),t.s=o(n),t.l=u(Math.pow(n,e)),t.opacity=a(n),t+""}}return e=+e,r.gamma=t,r}(1)}function rn(n){return new on(n)}function on(n){if(!(t=lo.exec(n)))throw new Error("invalid format: "+n);var t,e=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",u=!!t[5],a=t[6]&&+t[6],c=!!t[7],l=t[8]&&+t[8].slice(1),s=t[9]||"";"n"===s?(c=!0,s="g"):co[s]||(s=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=l,this.type=s}function un(){function n(){var n=0,o=Math.max(1,r.length);for(i=new Array(o-1);++n<o;)i[n-1]=li(e,n/o);return t}function t(n){if(!isNaN(n=+n))return r[ai(i,n)]}var e=[],r=[],i=[];return t.invertExtent=function(n){var t=r.indexOf(n);return t<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]},t.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,i=0,o=t.length;i<o;++i)null==(r=t[i])||isNaN(r=+r)||e.push(r);return e.sort(oi),n()},t.range=function(t){return arguments.length?(r=hi.call(t),n()):r.slice()},t.quantiles=function(){return i.slice()},t.copy=function(){return un().domain(e).range(r)},t}function an(n,t,e,r){function i(t){return n(t=new Date(+t)),t}return i.floor=i,i.ceil=function(e){return n(e=new Date(e-1)),t(e,1),n(e),e},i.round=function(n){var t=i(n),e=i.ceil(n);return n-t<e-n?t:e},i.offset=function(n,e){return t(n=new Date(+n),null==e?1:Math.floor(e)),n},i.range=function(e,r,o){var u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(new Date(+e))}while(t(e,o),n(e),e<r);return u},i.filter=function(e){return an(function(t){if(t>=t)for(;n(t),!e(t);)t.setTime(t-1)},function(n,r){if(n>=n)for(;--r>=0;)for(;t(n,1),!e(n););})},e&&(i.count=function(t,r){return mo.setTime(+t),yo.setTime(+r),n(mo),n(yo),Math.floor(e(mo,yo))},i.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?i.filter(r?function(t){return r(t)%n==0}:function(t){return i.count(0,t)%n==0}):i:null}),i}function cn(n){return an(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+7*t)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*wo)/xo})}function ln(n){return an(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+7*t)},function(n,t){return(t-n)/xo})}function sn(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function fn(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function hn(n){return{y:n,m:0,d:1,H:0,M:0,S:0,L:0}}function pn(n){function t(n,t){return function(e){var r,i,o,u=[],a=-1,c=0,l=n.length;for(e instanceof Date||(e=new Date(+e));++a<l;)37===n.charCodeAt(a)&&(u.push(n.slice(c,a)),null!=(i=Po[r=n.charAt(++a)])?r=n.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(n.slice(c,a)),u.join("")}}function e(n,t){return function(e){var i=hn(1900);if(r(i,n,e+="",0)!=e.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?fn(hn(i.y)).getUTCDay():t(hn(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,fn(i)):t(i)}}function r(n,t,e,r){for(var i,o,u=0,a=t.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=t.charCodeAt(u++))){if(i=t.charAt(u++),!(o=H[i in Po?t.charAt(u++):i])||(r=o(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function i(n,t,e){var r=A.exec(t.slice(e));return r?(n.p=Y[r[0].toLowerCase()],e+r[0].length):-1}function o(n,t,e){var r=F.exec(t.slice(e));return r?(n.w=P[r[0].toLowerCase()],e+r[0].length):-1}function u(n,t,e){var r=D.exec(t.slice(e));return r?(n.w=U[r[0].toLowerCase()],e+r[0].length):-1}function a(n,t,e){var r=L.exec(t.slice(e));return r?(n.m=O[r[0].toLowerCase()],e+r[0].length):-1}function c(n,t,e){var r=X.exec(t.slice(e));return r?(n.m=B[r[0].toLowerCase()],e+r[0].length):-1}function l(n,t,e){return r(n,M,t,e)}function s(n,t,e){return r(n,b,t,e)}function f(n,t,e){return r(n,S,t,e)}function h(n){return C[n.getDay()]}function p(n){return T[n.getDay()]}function d(n){return k[n.getMonth()]}function g(n){return N[n.getMonth()]}function v(n){return E[+(n.getHours()>=12)]}function m(n){return C[n.getUTCDay()]}function y(n){return T[n.getUTCDay()]}function _(n){return k[n.getUTCMonth()]}function w(n){return N[n.getUTCMonth()]}function x(n){return E[+(n.getUTCHours()>=12)]}var M=n.dateTime,b=n.date,S=n.time,E=n.periods,T=n.days,C=n.shortDays,N=n.months,k=n.shortMonths,A=vn(E),Y=mn(E),D=vn(T),U=mn(T),F=vn(C),P=mn(C),X=vn(N),B=mn(N),L=vn(k),O=mn(k),j={a:h,A:p,b:d,B:g,c:null,d:Dn,e:Dn,H:Un,I:Fn,j:Pn,L:Xn,m:Bn,M:Ln,p:v,S:On,U:jn,w:qn,W:Hn,x:null,X:null,y:Rn,Y:zn,Z:$n,"%":ut},q={a:m,A:y,b:_,B:w,c:null,d:In,e:In,H:Zn,I:Wn,j:Gn,L:Jn,m:Vn,M:Qn,p:x,S:Kn,U:nt,w:tt,W:et,x:null,X:null,y:rt,Y:it,Z:ot,"%":ut},H={a:o,A:u,b:a,B:c,c:l,d:En,e:En,H:Cn,I:Cn,j:Tn,L:An,m:Sn,M:Nn,p:i,S:kn,U:_n,w:yn,W:wn,x:s,X:f,y:Mn,Y:xn,Z:bn,"%":Yn};return j.x=t(b,j),j.X=t(S,j),j.c=t(M,j),q.x=t(b,q),q.X=t(S,q),q.c=t(M,q),{format:function(n){var e=t(n+="",j);return e.toString=function(){return n},e},parse:function(n){var t=e(n+="",sn);return t.toString=function(){return n},t},utcFormat:function(n){var e=t(n+="",q);return e.toString=function(){return n},e},utcParse:function(n){var t=e(n,fn);return t.toString=function(){return n},t}}}function dn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function gn(n){return n.replace(Lo,"\\$&")}function vn(n){return new RegExp("^(?:"+n.map(gn).join("|")+")","i")}function mn(n){for(var t={},e=-1,r=n.length;++e<r;)t[n[e].toLowerCase()]=e;return t}function yn(n,t,e){var r=Xo.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function _n(n,t,e){var r=Xo.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function wn(n,t,e){var r=Xo.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function xn(n,t,e){var r=Xo.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Mn(n,t,e){var r=Xo.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function bn(n,t,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Sn(n,t,e){var r=Xo.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function En(n,t,e){var r=Xo.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function Tn(n,t,e){var r=Xo.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function Cn(n,t,e){var r=Xo.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Nn(n,t,e){var r=Xo.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function kn(n,t,e){var r=Xo.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function An(n,t,e){var r=Xo.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Yn(n,t,e){var r=Bo.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Dn(n,t){return dn(n.getDate(),t,2)}function Un(n,t){return dn(n.getHours(),t,2)}function Fn(n,t){return dn(n.getHours()%12||12,t,2)}function Pn(n,t){return dn(1+Mo.count(Eo(n),n),t,3)}function Xn(n,t){return dn(n.getMilliseconds(),t,3)}function Bn(n,t){return dn(n.getMonth()+1,t,2)}function Ln(n,t){return dn(n.getMinutes(),t,2)}function On(n,t){return dn(n.getSeconds(),t,2)}function jn(n,t){return dn(bo.count(Eo(n),n),t,2)}function qn(n){return n.getDay()}function Hn(n,t){return dn(So.count(Eo(n),n),t,2)}function Rn(n,t){return dn(n.getFullYear()%100,t,2)}function zn(n,t){return dn(n.getFullYear()%1e4,t,4)}function $n(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function In(n,t){return dn(n.getUTCDate(),t,2)}function Zn(n,t){return dn(n.getUTCHours(),t,2)}function Wn(n,t){return dn(n.getUTCHours()%12||12,t,2)}function Gn(n,t){return dn(1+To.count(ko(n),n),t,3)}function Jn(n,t){return dn(n.getUTCMilliseconds(),t,3)}function Vn(n,t){return dn(n.getUTCMonth()+1,t,2)}function Qn(n,t){return dn(n.getUTCMinutes(),t,2)}function Kn(n,t){return dn(n.getUTCSeconds(),t,2)}function nt(n,t){return dn(Co.count(ko(n),n),t,2)}function tt(n){return n.getUTCDay()}function et(n,t){return dn(No.count(ko(n),n),t,2)}function rt(n,t){return dn(n.getUTCFullYear()%100,t,2)}function it(n,t){return dn(n.getUTCFullYear()%1e4,t,4)}function ot(){return"+0000"}function ut(){return"%"}function at(n){return n.toISOString()}function ct(n){var t=new Date(n);return isNaN(t)?null:t}function lt(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===jo&&t.documentElement.namespaceURI===jo?t.createElement(n):t.createElementNS(e,n)}}function st(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function ft(n,t,e){return n=ht(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function ht(n,t,e){return function(r){var i=Go;Go=r;try{n.call(this,this.__data__,t,e)}finally{Go=i}}}function pt(n){return n.trim().split(/^|\s+/).map(function(n){var t="",e=n.indexOf(".");return e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),{type:n,name:t}})}function dt(n){return function(){var t=this.__on;if(t){for(var e,r=0,i=-1,o=t.length;r<o;++r)e=t[r],n.type&&e.type!==n.type||e.name!==n.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function gt(n,t,e){var r=Wo.hasOwnProperty(n.type)?ft:ht;return function(i,o,u){var a,c=this.__on,l=r(t,o,u);if(c)for(var s=0,f=c.length;s<f;++s)if((a=c[s]).type===n.type&&a.name===n.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=e),void(a.value=t);this.addEventListener(n.type,l,e),a={type:n.type,name:n.name,value:t,listener:l,capture:e},c?c.push(a):this.__on=[a]}}function vt(){}function mt(){return[]}function yt(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function _t(n,t,e,r,i,o){for(var u,a=0,c=t.length,l=o.length;a<l;++a)(u=t[a])?(u.__data__=o[a],r[a]=u):e[a]=new yt(n,o[a]);for(;a<c;++a)(u=t[a])&&(i[a]=u)}function wt(n,t,e,r,i,o,u){var a,c,l,s={},f=t.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(c=t[a])&&(p[a]=l=cu+u.call(c,c.__data__,a,t),l in s?i[a]=c:s[l]=c);for(a=0;a<h;++a)l=cu+u.call(n,o[a],a,o),(c=s[l])?(r[a]=c,c.__data__=o[a],s[l]=null):e[a]=new yt(n,o[a]);for(a=0;a<f;++a)(c=t[a])&&s[p[a]]===c&&(i[a]=c)}function xt(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Mt(n){return function(){this.removeAttribute(n)}}function bt(n){return function(){this.removeAttributeNS(n.space,n.local)}}function St(n,t){return function(){this.setAttribute(n,t)}}function Et(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Tt(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function Ct(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Nt(n){return function(){this.style.removeProperty(n)}}function kt(n,t,e){return function(){this.style.setProperty(n,t,e)}}function At(n,t,e){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function Yt(n){return function(){delete this[n]}}function Dt(n,t){return function(){this[n]=t}}function Ut(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function Ft(n){return n.trim().split(/^|\s+/)}function Pt(n){return n.classList||new Xt(n)}function Xt(n){this._node=n,this._names=Ft(n.getAttribute("class")||"")}function Bt(n,t){for(var e=Pt(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function Lt(n,t){for(var e=Pt(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function Ot(n){return function(){Bt(this,n)}}function jt(n){return function(){Lt(this,n)}}function qt(n,t){return function(){(t.apply(this,arguments)?Bt:Lt)(this,n)}}function Ht(){this.textContent=""}function Rt(n){return function(){this.textContent=n}}function zt(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function $t(){this.innerHTML=""}function It(n){return function(){this.innerHTML=n}}function Zt(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function Wt(){this.nextSibling&&this.parentNode.appendChild(this)}function Gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jt(){return null}function Vt(){var n=this.parentNode;n&&n.removeChild(this)}function Qt(n,t,e){var r=xu(n),i=r.CustomEvent;i?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}function Kt(n,t){return function(){return Qt(this,n,t)}}function ne(n,t){return function(){return Qt(this,n,t.apply(this,arguments))}}function te(n,t){this._groups=n,this._parents=t}function ee(){return new te([[document.documentElement]],Fu)}function re(){this.reset()}function ie(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function oe(n){return n>1?0:n<-1?Ju:Math.acos(n)}function ue(n){return n>1?Vu:n<-1?-Vu:Math.asin(n)}function ae(){}function ce(n,t){n&&aa.hasOwnProperty(n.type)&&aa[n.type](n,t)}function le(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function se(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)le(n[e],t,1);t.polygonEnd()}function fe(n){var t=n[0],e=n[1],r=ra(e);return[r*ra(t),r*ia(t),ia(e)]}function he(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function pe(n){var t=oa(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function de(){ha.point=ve,ha.lineEnd=ge}function ge(){ha.point=ha.lineEnd=ae}function ve(n,t){n*=na,t*=na,Bu=n,Lu=ia(t),Ou=ra(t),ha.point=me}function me(n,t){n*=na,t*=na;var e=ia(t),r=ra(t),i=ta(n-Bu),o=ra(i),u=ia(i),a=r*u,c=Ou*e-Lu*r*o,l=Lu*e+Ou*r*o;fa.add(ea(oa(a*a+c*c),l)),Bu=n,Lu=e,Ou=r}function ye(n,t){return!(!n||!ya.hasOwnProperty(n.type))&&ya[n.type](n,t)}function _e(n,t){return 0===va(n,t)}function we(n,t){var e=va(n[0],n[1]);return va(n[0],t)+va(t,n[1])<=e+Gu}function xe(n,t){return!!sa(n.map(Me),be(t))}function Me(n){return n=n.map(be),n.pop(),n}function be(n){return[n[0]*na,n[1]*na]}function Se(){ba.point=Ee}function Ee(n,t){ba.point=Te,ju=Hu=n,qu=Ru=t}function Te(n,t){Ma.add(Ru*n-Hu*t),Hu=n,Ru=t}function Ce(){Te(ju,qu)}function Ne(n,t){n<Sa&&(Sa=n),n>Ta&&(Ta=n),t<Ea&&(Ea=t),t>Ca&&(Ca=t)}function ke(n,t){ka+=n,Aa+=t,++Ya}function Ae(){La.point=Ye}function Ye(n,t){La.point=De,ke(Iu=n,Zu=t)}function De(n,t){var e=n-Iu,r=t-Zu,i=oa(e*e+r*r);Da+=i*(Iu+n)/2,Ua+=i*(Zu+t)/2,Fa+=i,ke(Iu=n,Zu=t)}function Ue(){La.point=ke}function Fe(){La.point=Xe}function Pe(){Be(zu,$u)}function Xe(n,t){La.point=Be,ke(zu=Iu=n,$u=Zu=t)}function Be(n,t){var e=n-Iu,r=t-Zu,i=oa(e*e+r*r);Da+=i*(Iu+n)/2,Ua+=i*(Zu+t)/2,Fa+=i,i=Zu*n-Iu*t,Pa+=i*(Iu+n),Xa+=i*(Zu+t),Ba+=3*i,ke(Iu=n,Zu=t)}function Le(n){this._context=n}function Oe(n,t){$a.point=je,ja=Ha=n,qa=Ra=t}function je(n,t){Ha-=n,Ra-=t,za.add(oa(Ha*Ha+Ra*Ra)),Ha=n,Ra=t}function qe(){this._string=[]}function He(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Re(n){return function(t,e){var r=ra(t),i=ra(e),o=n(r*i);return[o*i*ia(t),o*ia(e)]}}function ze(n){return function(t,e){var r=oa(t*t+e*e),i=n(r),o=ia(i),u=ra(i);return[ea(t*o,r*u),ue(r&&e*o/r)]}}function $e(){this.reset()}function Ie(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function Ze(n){return n>1?0:n<-1?Ja:Math.acos(n)}function We(n){return n>1?Va:n<-1?-Va:Math.asin(n)}function Ge(){}function Je(n,t){n&&dc.hasOwnProperty(n.type)&&dc[n.type](n,t)}function Ve(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Qe(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Ve(n[e],t,1);t.polygonEnd()}function Ke(n){return[ic(n[1],n[0]),We(n[2])]}function nr(n){var t=n[0],e=n[1],r=oc(e);return[r*oc(t),r*lc(t),lc(e)]}function tr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function er(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function rr(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ir(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function or(n){var t=fc(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function ur(n,t){return[n>Ja?n-Ka:n<-Ja?n+Ka:n,t]}function ar(n,t,e){return(n%=Ka)?t||e?vc(lr(n),sr(t,e)):lr(n):t||e?sr(t,e):ur}function cr(n){return function(t,e){return t+=n,[t>Ja?t-Ka:t<-Ja?t+Ka:t,e]}}function lr(n){var t=cr(n);return t.invert=cr(-n),t}function sr(n,t){function e(n,t){var e=oc(t),a=oc(n)*e,c=lc(n)*e,l=lc(t),s=l*r+a*i;return[ic(c*o-s*u,a*r-l*i),We(s*o+c*u)]}var r=oc(n),i=lc(n),o=oc(t),u=lc(t);return e.invert=function(n,t){var e=oc(t),a=oc(n)*e,c=lc(n)*e,l=lc(t),s=l*o-c*u;return[ic(c*o+l*u,a*r+s*i),We(s*r-a*i)]},e}function fr(n,t,e,r,i,o){if(e){var u=oc(t),a=lc(t),c=r*e;null==i?(i=t+r*Ka,o=t-c/2):(i=hr(u,i),o=hr(u,o),(r>0?i<o:i>o)&&(i+=r*Ka));for(var l,s=i;r>0?s>o:s<o;s-=c)l=Ke([u,-a*oc(s),-a*lc(s)]),n.point(l[0],l[1])}}function hr(n,t){t=nr(t),t[0]-=n,or(t);var e=Ze(-t[1]);return((-t[2]<0?-e:e)+Ka-Ga)%Ka}function pr(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function dr(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function gr(n,t,e,r){function i(i,o){return n<=i&&i<=e&&t<=o&&o<=r}function o(i,o,a,l){var s=0,f=0;if(null==i||(s=u(i,a))!==(f=u(o,a))||c(i,o)<0^a>0)do{l.point(0===s||3===s?n:e,s>1?r:t)}while((s=(s+a+4)%4)!==f);else l.point(o[0],o[1])}function u(r,i){return ec(r[0]-n)<Ga?i>0?0:3:ec(r[0]-e)<Ga?i>0?2:1:ec(r[1]-t)<Ga?i>0?1:0:i>0?3:2}function a(n,t){return c(n.x,t.x)}function c(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){function c(n,t){i(n,t)&&T.point(n,t)}function l(){for(var t=0,e=0,i=v.length;e<i;++e)for(var o,u,a=v[e],c=1,l=a.length,s=a[0],f=s[0],h=s[1];c<l;++c)o=f,u=h,s=a[c],f=s[0],h=s[1],u<=r?h>r&&(f-o)*(r-u)>(h-u)*(n-o)&&++t:h<=r&&(f-o)*(r-u)<(h-u)*(n-o)&&--t;return t}function s(){T=C,g=[],v=[],E=!0}function f(){var n=l(),t=E&&n,e=(g=si(g)).length;(t||e)&&(u.polygonStart(),t&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&wc(g,a,n,o,u),u.polygonEnd()),T=u,g=v=m=null}function h(){N.point=d,v&&v.push(m=[]),S=!0,b=!1,x=M=NaN}function p(){g&&(d(y,_),w&&b&&C.rejoin(),g.push(C.result())),N.point=c,b&&T.lineEnd()}function d(o,u){var a=i(o,u);if(v&&m.push([o,u]),S)y=o,_=u,w=a,S=!1,a&&(T.lineStart(),T.point(o,u));else if(a&&b)T.point(o,u);else{var c=[x=Math.max(Mc,Math.min(xc,x)),M=Math.max(Mc,Math.min(xc,M))],l=[o=Math.max(Mc,Math.min(xc,o)),u=Math.max(Mc,Math.min(xc,u))];yc(c,l,n,t,e,r)?(b||(T.lineStart(),T.point(c[0],c[1])),T.point(l[0],l[1]),a||T.lineEnd(),E=!1):a&&(T.lineStart(),T.point(o,u),E=!1)}x=o,M=u,b=a}var g,v,m,y,_,w,x,M,b,S,E,T=u,C=mc(),N={point:c,lineStart:h,lineEnd:p,polygonStart:s,polygonEnd:f};return N}}function vr(n,t){n<Sc&&(Sc=n),n>Tc&&(Tc=n),t<Ec&&(Ec=t),t>Cc&&(Cc=t)}function mr(n){return n.length>1}function yr(n,t){return((n=n.x)[0]<0?n[1]-Va-Ga:Va-n[1])-((t=t.x)[0]<0?t[1]-Va-Ga:Va-t[1])}function _r(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var a=o>0?Ja:-Ja,c=ec(o-e);ec(c-Ja)<Ga?(n.point(e,r=(r+u)/2>0?Va:-Va),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(o,r),t=0):i!==a&&c>=Ja&&(ec(e-i)<Ga&&(e-=i*Ga),ec(o-a)<Ga&&(o-=a*Ga),r=wr(e,r,o,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=o,r=u),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function wr(n,t,e,r){var i,o,u=lc(n-e);return ec(u)>Ga?rc((lc(t)*(o=oc(r))*lc(e)-lc(r)*(i=oc(t))*lc(n))/(i*o*u)):(t+r)/2}function xr(n,t,e,r){var i;if(null==n)i=e*Va,r.point(-Ja,i),r.point(0,i),r.point(Ja,i),r.point(Ja,0),r.point(Ja,-i),r.point(0,-i),r.point(-Ja,-i),r.point(-Ja,0),r.point(-Ja,i);else if(ec(n[0]-t[0])>Ga){var o=n[0]<t[0]?Ja:-Ja;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Mr(n){function t(){}var e=t.prototype=Object.create(br.prototype);for(var r in n)e[r]=n[r];return function(n){var e=new t;return e.stream=n,e}}function br(){}function Sr(n,t,e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),gc(e,n.stream(Nc));var u=Nc.result(),a=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),c=+t[0][0]+(r-a*(u[1][0]+u[0][0]))/2,l=+t[0][1]+(i-a*(u[1][1]+u[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*a).translate([c,l])}function Er(n){return function(t,e){return Sr(n,[[0,0],t],e)}}function Tr(n){return function(t,e){return Sr(n,t,e)}}function Cr(n){return Mr({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Nr(n,t){function e(r,i,o,u,a,c,l,s,f,h,p,d,g,v){var m=l-r,y=s-i,_=m*m+y*y;if(_>4*t&&g--){var w=u+h,x=a+p,M=c+d,b=fc(w*w+x*x+M*M),S=We(M/=b),E=ec(ec(M)-1)<Ga||ec(o-f)<Ga?(o+f)/2:ic(x,w),T=n(E,S),C=T[0],N=T[1],k=C-r,A=N-i,Y=y*k-m*A;(Y*Y/_>t||ec((m*k+y*A)/_-.5)>.3||u*h+a*p+c*d<Pc)&&(e(r,i,o,u,a,c,C,N,E,w/=b,x/=b,M,g,v),v.point(C,N),e(C,N,E,w,x,M,l,s,f,h,p,d,g,v))}}return function(t){function r(e,r){e=n(e,r),t.point(e[0],e[1])}function i(){m=NaN,M.point=o,t.lineStart()}function o(r,i){var o=nr([r,i]),u=n(r,i);e(m,y,v,_,w,x,m=u[0],y=u[1],v=r,_=o[0],w=o[1],x=o[2],Fc,t),t.point(m,y)}function u(){M.point=r,t.lineEnd()}function a(){i(),M.point=c,M.lineEnd=l}function c(n,t){o(s=n,t),f=m,h=y,p=_,d=w,g=x,M.point=o}function l(){e(m,y,v,_,w,x,f,h,s,p,d,g,Fc,t),M.lineEnd=u,u()}var s,f,h,p,d,g,v,m,y,_,w,x,M={point:r,lineStart:i,lineEnd:u,polygonStart:function(){t.polygonStart(),M.lineStart=a},polygonEnd:function(){t.polygonEnd(),M.lineStart=i}};return M}}function kr(n){function t(n){return n=s(n[0]*tc,n[1]*tc),[n[0]*v+a,c-n[1]*v]}function e(n){return(n=s.invert((n[0]-a)/v,(c-n[1])/v))&&[n[0]*nc,n[1]*nc]}function r(n,t){return n=u(n,t),[n[0]*v+a,c-n[1]*v]}function i(){s=vc(l=ar(x,M,b),u);var n=u(_,w);return a=m-n[0]*v,c=y+n[1]*v,o()}function o(){return d=g=null,t}var u,a,c,l,s,f,h,p,d,g,v=150,m=480,y=250,_=0,w=0,x=0,M=0,b=0,S=null,E=Dc,T=null,C=bc,N=.5,k=Xc(r,N);return t.stream=function(n){return d&&g===n?d:d=Bc(E(l,k(C(g=n))))},t.clipAngle=function(n){return arguments.length?(E=+n?Uc(S=n*tc,6*tc):(S=null,Dc),o()):S*nc},t.clipExtent=function(n){return arguments.length?(C=null==n?(T=f=h=p=null,bc):gr(T=+n[0][0],f=+n[0][1],h=+n[1][0],p=+n[1][1]),o()):null==T?null:[[T,f],[h,p]]},t.scale=function(n){return arguments.length?(v=+n,i()):v},t.translate=function(n){return arguments.length?(m=+n[0],y=+n[1],i()):[m,y]},t.center=function(n){return arguments.length?(_=n[0]%360*tc,w=n[1]%360*tc,i()):[_*nc,w*nc]},t.rotate=function(n){return arguments.length?(x=n[0]%360*tc,M=n[1]%360*tc,b=n.length>2?n[2]%360*tc:0,i()):[x*nc,M*nc,b*nc]},t.precision=function(n){return arguments.length?(k=Xc(r,N=n*n),o()):fc(N)},t.fitExtent=Tr(t),t.fitSize=Er(t),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,i()}}function Ar(n){var t=0,e=Ja/3,r=kr(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*tc,e=n[1]*tc):[t*nc,e*nc]},i}function Yr(n){return function(t,e){var r=oc(t),i=oc(e),o=n(r*i);return[o*i*lc(t),o*lc(e)]}}function Dr(n){return function(t,e){var r=fc(t*t+e*e),i=n(r),o=lc(i),u=oc(i);return[ic(t*o,r*u),We(r&&e*o/r)]}}function Ur(n,t){return[n,ac(hc((Va+t)/2))]}function Fr(n){return hc((Va+n)/2)}function Pr(n,t){function e(n,t){o>0?t<-Va+Ga&&(t=-Va+Ga):t>Va-Ga&&(t=Va-Ga);var e=o/cc(Fr(t),i);return[e*lc(i*n),o-e*oc(i*n)]}var r=oc(n),i=n===t?lc(n):ac(r/oc(t))/ac(Fr(t)/Fr(n)),o=r*cc(Fr(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=sc(i)*fc(n*n+e*e);return[ic(n,e)/i,2*rc(cc(o/r,1/i))-Va]},e):Ur}function Xr(){}function Br(n,t){n<Oc&&(Oc=n),n>qc&&(qc=n),t<jc&&(jc=t),t>Hc&&(Hc=t)}function Lr(n,t,e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),gc(e,n.stream(Rc));var u=Rc.result(),a=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),c=+t[0][0]+(r-a*(u[1][0]+u[0][0]))/2,l=+t[0][1]+(i-a*(u[1][1]+u[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*a).translate([c,l])}function Or(n,t,e){return Lr(n,[[0,0],t],e)}function jr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qr(){return new jr}function Hr(n){var t=n.length;return{point:function(e,r){for(var i=-1;++i<t;)n[i].point(e,r)},sphere:function(){for(var e=-1;++e<t;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<t;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<t;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<t;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<t;)n[e].polygonEnd()}}}function Rr(n,t){var e=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=zr(n,t);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function zr(n,t){function e(n,t){t.length&&t.pop();for(var e=l[n<0?~n:n],r=0,i=e.length;r<i;++r)t.push(c(e[r].slice(),r));n<0&&Gc(t,i)}
function r(n){return c(n.slice())}function i(n){for(var t=[],r=0,i=n.length;r<i;++r)e(n[r],t);return t.length<2&&t.push(t[0].slice()),t}function o(n){for(var t=i(n);t.length<4;)t.push(t[0].slice());return t}function u(n){return n.map(o)}function a(n){var t,e=n.type;switch(e){case"GeometryCollection":return{type:e,geometries:n.geometries.map(a)};case"Point":t=r(n.coordinates);break;case"MultiPoint":t=n.coordinates.map(r);break;case"LineString":t=i(n.arcs);break;case"MultiLineString":t=n.arcs.map(i);break;case"Polygon":t=u(n.arcs);break;case"MultiPolygon":t=n.arcs.map(u);break;default:return null}return{type:e,coordinates:t}}var c=Wc(n),l=n.arcs;return a(t)}function $r(n,t,e){function r(n,t){return u(n,t),tl.selectAll("path").remove(),tl.selectAll("path").data([t]).enter().append("path").attr("d",nl)}function i(n,t){var e=t.geometry.coordinates;"Polygon"===t.geometry.type&&(e=[e]);for(var r=!1,i=0;i<e.length&&!r;){if(o(n,e[i][0])){for(var u=!1,a=1;a<e[i].length&&!u;)o(n,e[i][a])&&(u=!0),a++;u||(r=!0)}i++}return r}function o(n,t){for(var e=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r][0],u=t[r][1],a=t[i][0],c=t[i][1];u>n[1]!=c>n[1]&&n[0]<(a-o)*(n[1]-u)/(c-u)+o&&(e=!e)}return e}function u(n,t){var r=e[t.id];if(r)return el.html("<div><span>Name</span>:&nbsp;"+r.n+"</div><div><span>Pop. variation</span>&nbsp;(%):&nbsp;"+r.p+"</div>").style("visibility","visible")}if(n)throw n;var a=Jc(t,t.objects.municipalities),c=Jc(t,t.objects.nation),l=["#A50026","#D73027","#F46D43","#FDAE61","#A6D96A","#66BD63","#1A9850","#006837"],s=un().domain([-75,-35,-25,-15,15,25,70,400]).range(l);Vc.strokeStyle="rgb(0,0,0)",Vc.lineWidth=".1";for(var f=0;f<a.features.length;f++)e[a.features[f].id]&&(Vc.fillStyle=s(e[a.features[f].id].p),Vc.beginPath(),Kc(a.features[f]),Vc.fill(),Vc.stroke());Vc.beginPath(),Kc(Jc(t,t.objects.nation)),Vc.strokeStyle="rgb(100, 100, 100)",Vc.stroke(),function(n,t){n.lookupTree=rbush(4);var e=[];for(var r in n.features){var i=t.bounds(n.features[r]);e.push({minX:Math.floor(i[0][0]),minY:Math.floor(i[0][1]),maxX:Math.ceil(i[1][0]),maxY:Math.ceil(i[1][1]),polygon:n.features[r]})}n.lookupTree.load(e)}(a,Kc),Pu("canvas").on("mousemove",function(n){var t=Ko(this),e=Qc.invert(t);if(_a(c,e)){var o=a.lookupTree.search({minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]});for(var u in o){var l=o[u].polygon;i(e,l)&&r(t,l)}}else el.style("visibility","hidden"),tl.selectAll("path").remove()})}var Ir=[].slice,Zr={};n.prototype=u.prototype={constructor:n,defer:function(n){if("function"!=typeof n||this._call)throw new Error;if(null!=this._error)return this;var e=Ir.call(arguments,1);return e.push(n),++this._waiting,this._tasks.push(e),t(this),this},abort:function(){return null==this._error&&i(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(t,e){n.apply(null,[t].concat(e))},o(this),this},awaitAll:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=n,o(this),this}};a.prototype=c.prototype={constructor:a,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var Wr=c.prototype;l.prototype=s.prototype={constructor:l,has:Wr.has,add:function(n){return n+="",this["$"+n]=n,this},remove:Wr.remove,clear:Wr.clear,values:Wr.keys,size:Wr.size,empty:Wr.empty,each:Wr.each};var Gr={value:function(){}};h.prototype=f.prototype={constructor:h,on:function(n,t){var e,r=this._,i=p(n+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(e=(n=i[o]).type)r[e]=g(r[e],n.name,t);else if(null==t)for(e in r)r[e]=g(r[e],n.name,null);return this}for(;++o<u;)if((e=(n=i[o]).type)&&(e=d(r[e],n.name)))return e}},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new h(n)},call:function(n,t){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=this._[n],o=0,e=r.length;o<e;++o)r[o].value.apply(t,i)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(t,e)}};var Jr=function(n,t){function e(n){var t,e=s.status;if(!e&&m(s)||e>=200&&e<300||304===e){if(o)try{t=o.call(r,s)}catch(n){return void a.call("error",r,n)}else t=s;a.call("load",r,t)}else a.call("error",r,n)}var r,i,o,u,a=f("beforesend","progress","load","error"),l=c(),s=new XMLHttpRequest,h=null,p=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(n)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(n){s.readyState>3&&e(n)},s.onprogress=function(n){a.call("progress",r,n)},r={header:function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?l.get(n):(null==t?l.remove(n):l.set(n,t+""),r)},mimeType:function(n){return arguments.length?(i=null==n?null:n+"",r):i},responseType:function(n){return arguments.length?(u=n,r):u},timeout:function(n){return arguments.length?(d=+n,r):d},user:function(n){return arguments.length<1?h:(h=null==n?null:n+"",r)},password:function(n){return arguments.length<1?p:(p=null==n?null:n+"",r)},response:function(n){return o=n,r},get:function(n,t){return r.send("GET",n,t)},post:function(n,t){return r.send("POST",n,t)},send:function(t,e,o){return s.open(t,n,!0,h,p),null==i||l.has("accept")||l.set("accept",i+",*/*"),s.setRequestHeader&&l.each(function(n,t){s.setRequestHeader(t,n)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),d>0&&(s.timeout=d),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=v(o)),null!=o&&r.on("error",o).on("load",function(n){o(null,n)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var n=a.on.apply(a,arguments);return n===a?r:n}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return r.get(t)}return r},Vr=function(n,t){return function(e,r){var i=Jr(e).mimeType(n).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}};Vr("text/html",function(n){return document.createRange().createContextualFragment(n.responseText)});var Qr=Vr("application/json",function(n){return JSON.parse(n.responseText)});Vr("text/plain",function(n){return n.responseText}),Vr("application/xml",function(n){var t=n.responseXML;if(!t)throw new Error("parse error");return t});var Kr=function(n){function t(n,t){var r,i,o=e(n,function(n,e){if(r)return r(n,e-1);i=n,r=t?_(n,t):y(n)});return o.columns=i,o}function e(n,t){function e(){if(s>=l)return u;if(i)return i=!1,o;var t,e=s;if(34===n.charCodeAt(e)){for(var r=e;r++<l;)if(34===n.charCodeAt(r)){if(34!==n.charCodeAt(r+1))break;++r}return s=r+2,t=n.charCodeAt(r+1),13===t?(i=!0,10===n.charCodeAt(r+2)&&++s):10===t&&(i=!0),n.slice(e+1,r).replace(/""/g,'"')}for(;s<l;){var a=1;if(10===(t=n.charCodeAt(s++)))i=!0;else if(13===t)i=!0,10===n.charCodeAt(s)&&(++s,++a);else if(t!==c)continue;return n.slice(e,s-a)}return n.slice(e)}for(var r,i,o={},u={},a=[],l=n.length,s=0,f=0;(r=e())!==u;){for(var h=[];r!==o&&r!==u;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a}function r(t,e){return null==e&&(e=w(t)),[e.map(u).join(n)].concat(t.map(function(t){return e.map(function(n){return u(t[n])}).join(n)})).join("\n")}function i(n){return n.map(o).join("\n")}function o(t){return t.map(u).join(n)}function u(n){return null==n?"":a.test(n+="")?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n\r]"),c=n.charCodeAt(0);return{parse:t,parseRows:e,format:r,formatRows:i}},ni=Kr(","),ti=ni.parse,ei=Kr("\t"),ri=ei.parse,ii=function(n,t){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=Jr(e).mimeType(n);return o.row=function(n){return arguments.length?o.response(x(t,r=n)):r},o.row(r),i?o.get(i):o}};ii("text/csv",ti),ii("text/tab-separated-values",ri);var oi=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},ui=function(n){return 1===n.length&&(n=M(n)),{left:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}(oi),ai=ui.right,ci=function(n){return null===n?NaN:+n},li=(Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),function(n,t,e){if(null==e&&(e=ci),r=n.length){if((t=+t)<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,o=Math.floor(i),u=+e(n[o],o,n);return u+(+e(n[o+1],o+1,n)-u)*(i-o)}}),si=function(n){for(var t,e,r,i=n.length,o=-1,u=0;++o<i;)u+=n[o].length;for(e=new Array(u);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--u]=r[t];return e},fi=Array.prototype,hi=(fi.map,fi.slice),pi=function(n,t,e){n.prototype=t.prototype=e,e.constructor=n},di="\\s*([+-]?\\d+)\\s*",gi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mi=/^#([0-9a-f]{3})$/,yi=/^#([0-9a-f]{6})$/,_i=new RegExp("^rgb\\("+[di,di,di]+"\\)$"),wi=new RegExp("^rgb\\("+[vi,vi,vi]+"\\)$"),xi=new RegExp("^rgba\\("+[di,di,di,gi]+"\\)$"),Mi=new RegExp("^rgba\\("+[vi,vi,vi,gi]+"\\)$"),bi=new RegExp("^hsl\\("+[gi,vi,vi]+"\\)$"),Si=new RegExp("^hsla\\("+[gi,vi,vi,gi]+"\\)$"),Ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pi(S,E,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),pi(A,k,b(S,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new A(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new A(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(1===n?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}})),pi(F,U,b(S,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new F(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new F(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new A(P(n>=240?n-240:n+120,i,r),P(n,i,r),P(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ti=Math.PI/180,Ci=180/Math.PI,Ni=.95047,ki=1,Ai=1.08883,Yi=4/29,Di=6/29,Ui=3*Di*Di,Fi=Di*Di*Di;pi(L,B,b(S,{brighter:function(n){return new L(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new L(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return n=ki*j(n),t=Ni*j(t),e=Ai*j(e),new A(q(3.2404542*t-1.5371385*n-.4985314*e),q(-.969266*t+1.8760108*n+.041556*e),q(.0556434*t-.2040259*n+1.0572252*e),this.opacity)}})),pi($,z,b(S,{brighter:function(n){return new $(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new $(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return X(this).rgb()}}));var Pi=-.14861,Xi=1.78277,Bi=-.29227,Li=-.90649,Oi=1.97294,ji=Oi*Li,qi=Oi*Xi,Hi=Xi*Bi-Li*Pi;pi(W,Z,b(S,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new W(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new W(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*Ti,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new A(255*(t+e*(Pi*r+Xi*i)),255*(t+e*(Bi*r+Li*i)),255*(t+e*(Oi*r)),this.opacity)}}));var Ri=function(n){return function(){return n}},zi=function n(t){function e(n,t){var e=r((n=k(n)).r,(t=k(t)).r),i=r(n.g,t.g),o=r(n.b,t.b),u=K(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=i(t),n.b=o(t),n.opacity=u(t),n+""}}var r=Q(t);return e.gamma=n,e}(1),$i=function(n,t){var e,r=t?t.length:0,i=n?Math.min(r,n.length):0,o=new Array(r),u=new Array(r);for(e=0;e<i;++e)o[e]=Qi(n[e],t[e]);for(;e<r;++e)u[e]=t[e];return function(n){for(e=0;e<i;++e)u[e]=o[e](n);return u}},Ii=function(n,t){var e=new Date;return n=+n,t-=n,function(r){return e.setTime(n+t*r),e}},Zi=function(n,t){return n=+n,t-=n,function(e){return n+t*e}},Wi=function(n,t){var e,r={},i={};null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={});for(e in t)e in n?r[e]=Qi(n[e],t[e]):i[e]=t[e];return function(n){for(e in r)i[e]=r[e](n);return i}},Gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ji=new RegExp(Gi.source,"g"),Vi=function(n,t){var e,r,i,o=Gi.lastIndex=Ji.lastIndex=0,u=-1,a=[],c=[];for(n+="",t+="";(e=Gi.exec(n))&&(r=Ji.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Zi(e,r)})),o=Ji.lastIndex;return o<t.length&&(i=t.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?tn(c[0].x):nn(t):(t=c.length,function(n){for(var e,r=0;r<t;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})},Qi=function(n,t){var e,r=typeof t;return null==t||"boolean"===r?Ri(t):("number"===r?Zi:"string"===r?(e=E(t))?(t=e,zi):Vi:t instanceof E?zi:t instanceof Date?Ii:Array.isArray(t)?$i:isNaN(t)?Wi:Zi)(n,t)};en(V);var Ki,no=en(K),to=function(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]},eo=function(n){return n=to(Math.abs(n)),n?n[1]:NaN},ro=function(n,t){return function(e,r){for(var i=e.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(t)}},io=function(n){return function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}},oo=function(n,t){n=n.toPrecision(t);n:for(var e,r=n.length,i=1,o=-1;i<r;++i)switch(n[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break n;default:o>0&&(o=0)}return o>0?n.slice(0,o)+n.slice(e+1):n},uo=function(n,t){var e=to(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(Ki=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+to(n,Math.max(0,t+o-1))[0]},ao=function(n,t){var e=to(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},co={"":oo,"%":function(n,t){return(100*n).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return n+""},d:function(n){return Math.round(n).toString(10)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return ao(100*n,t)},r:ao,s:uo,X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}},lo=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;rn.prototype=on.prototype,on.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var so,fo,ho,po=function(n){return n},go=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],vo=function(n){function t(n){function t(n){var t,i,a,s=v,w=m;if("c"===g)w=y(n)+w,n="";else{n=+n;var x=n<0;if(n=y(Math.abs(n),d),x&&0==+n&&(x=!1),s=(x?"("===l?l:"-":"-"===l||"("===l?"":l)+s,w=w+("s"===g?go[8+Ki/3]:"")+(x&&"("===l?")":""),_)for(t=-1,i=n.length;++t<i;)if(48>(a=n.charCodeAt(t))||a>57){w=(46===a?o+n.slice(t+1):n.slice(t))+w,n=n.slice(0,t);break}}p&&!f&&(n=r(n,1/0));var M=s.length+n.length+w.length,b=M<h?new Array(h-M+1).join(e):"";switch(p&&f&&(n=r(b+n,b.length?h-w.length:1/0),b=""),c){case"<":n=s+n+w+b;break;case"=":n=s+b+n+w;break;case"^":n=b.slice(0,M=b.length>>1)+s+n+w+b.slice(M);break;default:n=b+s+n+w}return u(n)}n=rn(n);var e=n.fill,c=n.align,l=n.sign,s=n.symbol,f=n.zero,h=n.width,p=n.comma,d=n.precision,g=n.type,v="$"===s?i[0]:"#"===s&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===s?i[1]:/[%p]/.test(g)?a:"",y=co[g],_=!g||/[defgprs%]/.test(g);return d=null==d?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),t.toString=function(){return n+""},t}function e(n,e){var r=t((n=rn(n),n.type="f",n)),i=3*Math.max(-8,Math.min(8,Math.floor(eo(e)/3))),o=Math.pow(10,-i),u=go[8+i/3];return function(n){return r(o*n)+u}}var r=n.grouping&&n.thousands?ro(n.grouping,n.thousands):po,i=n.currency,o=n.decimal,u=n.numerals?io(n.numerals):po,a=n.percent||"%";return{format:t,formatPrefix:e}};!function(n){so=vo(n),fo=so.format,ho=so.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var mo=new Date,yo=new Date,_o=an(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});_o.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?an(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):_o:null};var wo=6e4,xo=6048e5,Mo=(an(function(n){n.setTime(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(+n+1e3*t)},function(n,t){return(t-n)/1e3},function(n){return n.getUTCSeconds()}),an(function(n){n.setTime(Math.floor(n/wo)*wo)},function(n,t){n.setTime(+n+t*wo)},function(n,t){return(t-n)/wo},function(n){return n.getMinutes()}),an(function(n){var t=n.getTimezoneOffset()*wo%36e5;t<0&&(t+=36e5),n.setTime(36e5*Math.floor((+n-t)/36e5)+t)},function(n,t){n.setTime(+n+36e5*t)},function(n,t){return(t-n)/36e5},function(n){return n.getHours()}),an(function(n){n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+t)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*wo)/864e5},function(n){return n.getDate()-1})),bo=cn(0),So=cn(1),Eo=(cn(2),cn(3),cn(4),cn(5),cn(6),an(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())},function(n){return n.getMonth()}),an(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()}));Eo.every=function(n){return isFinite(n=Math.floor(n))&&n>0?an(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var To=(an(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*wo)},function(n,t){return(t-n)/wo},function(n){return n.getUTCMinutes()}),an(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+36e5*t)},function(n,t){return(t-n)/36e5},function(n){return n.getUTCHours()}),an(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/864e5},function(n){return n.getUTCDate()-1})),Co=ln(0),No=ln(1),ko=(ln(2),ln(3),ln(4),ln(5),ln(6),an(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()}),an(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()}));ko.every=function(n){return isFinite(n=Math.floor(n))&&n>0?an(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Ao,Yo,Do,Uo,Fo,Po={"-":"",_:" ",0:"0"},Xo=/^\s*\d+/,Bo=/^%/,Lo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;!function(n){Ao=pn(n),Yo=Ao.format,Do=Ao.parse,Uo=Ao.utcFormat,Fo=Ao.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Oo=(Date.prototype.toISOString||Uo("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||Fo("%Y-%m-%dT%H:%M:%S.%LZ"),function(n){return n.match(/.{6}/g).map(function(n){return"#"+n})});Oo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Oo("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Oo("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Oo("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),no(Z(300,.5,0),Z(-240,.5,1));var jo=(no(Z(-100,.75,.35),Z(80,1.5,.8)),no(Z(260,.75,.35),Z(80,1.5,.8)),Z(),"http://www.w3.org/1999/xhtml"),qo={svg:"http://www.w3.org/2000/svg",xhtml:jo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ho=function(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),qo.hasOwnProperty(t)?{space:qo[t],local:n}:n},Ro=function(n){var t=Ho(n);return(t.local?st:lt)(t)},zo=function(n){return function(){return this.matches(n)}};if("undefined"!=typeof document){var $o=document.documentElement;if(!$o.matches){var Io=$o.webkitMatchesSelector||$o.msMatchesSelector||$o.mozMatchesSelector||$o.oMatchesSelector;zo=function(n){return function(){return Io.call(this,n)}}}}var Zo=zo,Wo={},Go=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(Wo={mouseenter:"mouseover",mouseleave:"mouseout"})}var Jo=function(n,t,e){var r,i,o=pt(n+""),u=o.length;{if(!(arguments.length<2)){for(a=t?gt:dt,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],t,e));return this}var a=this.node().__on;if(a)for(var c,l=0,s=a.length;l<s;++l)for(r=0,c=a[l];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},Vo=function(){for(var n,t=Go;n=t.sourceEvent;)t=n;return t},Qo=function(n,t){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]},Ko=function(n){var t=Vo();return t.changedTouches&&(t=t.changedTouches[0]),Qo(n,t)},nu=function(n){return null==n?vt:function(){return this.querySelector(n)}},tu=function(n){"function"!=typeof n&&(n=nu(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=t[i],c=a.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=n.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),l[s]=u);return new te(r,this._parents)},eu=function(n){return null==n?mt:function(){return this.querySelectorAll(n)}},ru=function(n){"function"!=typeof n&&(n=eu(n));for(var t=this._groups,e=t.length,r=[],i=[],o=0;o<e;++o)for(var u,a=t[o],c=a.length,l=0;l<c;++l)(u=a[l])&&(r.push(n.call(u,u.__data__,l,a)),i.push(u));return new te(r,i)},iu=function(n){"function"!=typeof n&&(n=Zo(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u=t[i],a=u.length,c=r[i]=[],l=0;l<a;++l)(o=u[l])&&n.call(o,o.__data__,l,u)&&c.push(o);return new te(r,this._parents)},ou=function(n){return new Array(n.length)},uu=function(){return new te(this._enter||this._groups.map(ou),this._parents)};yt.prototype={constructor:yt,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var au=function(n){return function(){return n}},cu="$",lu=function(n,t){if(!n)return p=new Array(this.size()),l=-1,this.each(function(n){p[++l]=n}),p;var e=t?wt:_t,r=this._parents,i=this._groups;"function"!=typeof n&&(n=au(n));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var s=r[l],f=i[l],h=f.length,p=n.call(s,s&&s.__data__,l,r),d=p.length,g=a[l]=new Array(d),v=u[l]=new Array(d);e(s,f,g,v,c[l]=new Array(h),p,t);for(var m,y,_=0,w=0;_<d;++_)if(m=g[_]){for(_>=w&&(w=_+1);!(y=v[w])&&++w<d;);m._next=y||null}}return u=new te(u,r),u._enter=a,u._exit=c,u},su=function(){return new te(this._exit||this._groups.map(ou),this._parents)},fu=function(n){for(var t=this._groups,e=n._groups,r=t.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,l=t[a],s=e[a],f=l.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;a<r;++a)u[a]=t[a];return new te(u,this._parents)},hu=function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r,i=n[t],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},pu=function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=xt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,l=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(l[s]=u);l.sort(t)}return new te(i,this._parents).order()},du=function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},gu=function(){var n=new Array(this.size()),t=-1;return this.each(function(){n[++t]=this}),n},vu=function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},mu=function(){var n=0;return this.each(function(){++n}),n},yu=function(){return!this.node()},_u=function(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i,o=t[e],u=0,a=o.length;u<a;++u)(i=o[u])&&n.call(i,i.__data__,u,o);return this},wu=function(n,t){var e=Ho(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==t?e.local?bt:Mt:"function"==typeof t?e.local?Ct:Tt:e.local?Et:St)(e,t))},xu=function(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView},Mu=function(n,t,e){var r;return arguments.length>1?this.each((null==t?Nt:"function"==typeof t?At:kt)(n,t,null==e?"":e)):xu(r=this.node()).getComputedStyle(r,null).getPropertyValue(n)},bu=function(n,t){return arguments.length>1?this.each((null==t?Yt:"function"==typeof t?Ut:Dt)(n,t)):this.node()[n]};Xt.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Su=function(n,t){var e=Ft(n+"");if(arguments.length<2){for(var r=Pt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof t?qt:t?Ot:jt)(e,t))},Eu=function(n){return arguments.length?this.each(null==n?Ht:("function"==typeof n?zt:Rt)(n)):this.node().textContent},Tu=function(n){return arguments.length?this.each(null==n?$t:("function"==typeof n?Zt:It)(n)):this.node().innerHTML},Cu=function(){return this.each(Wt)},Nu=function(){return this.each(Gt)},ku=function(n){var t="function"==typeof n?n:Ro(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},Au=function(n,t){var e="function"==typeof n?n:Ro(n),r=null==t?Jt:"function"==typeof t?t:nu(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},Yu=function(){return this.each(Vt)},Du=function(n){return arguments.length?this.property("__data__",n):this.node().__data__},Uu=function(n,t){return this.each(("function"==typeof t?ne:Kt)(n,t))},Fu=[null];te.prototype=ee.prototype={constructor:te,select:tu,selectAll:ru,filter:iu,data:lu,enter:uu,exit:su,merge:fu,order:hu,sort:pu,call:du,nodes:gu,node:vu,size:mu,empty:yu,each:_u,attr:wu,style:Mu,property:bu,classed:Su,text:Eu,html:Tu,raise:Cu,lower:Nu,append:ku,insert:Au,remove:Yu,datum:Du,on:Jo,dispatch:Uu};var Pu=function(n){return"string"==typeof n?new te([[document.querySelector(n)]],[document.documentElement]):new te([[n]],Fu)},Xu=function(){return new re
};re.prototype={constructor:re,reset:function(){this.s=this.t=0},add:function(n){ie(Wu,n,this.t),ie(this,Wu.s,this.s),this.s?this.t+=Wu.t:this.s=Wu.t},valueOf:function(){return this.s}};var Bu,Lu,Ou,ju,qu,Hu,Ru,zu,$u,Iu,Zu,Wu=new re,Gu=1e-6,Ju=Math.PI,Vu=Ju/2,Qu=Ju/4,Ku=2*Ju,na=Ju/180,ta=Math.abs,ea=(Math.atan,Math.atan2),ra=Math.cos,ia=Math.sin,oa=Math.sqrt,ua={Feature:function(n,t){ce(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ce(e[r].geometry,t)}},aa={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){le(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)le(e[r],t,0)},Polygon:function(n,t){se(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)se(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ce(e[r],t)}},ca=function(n,t){n&&ua.hasOwnProperty(n.type)?ua[n.type](n,t):ce(n,t)},la=(Xu(),Xu(),Xu(),Xu()),sa=function(n,t){var e=t[0],r=t[1],i=[ia(e),-ra(e),0],o=0,u=0;la.reset();for(var a=0,c=n.length;a<c;++a)if(s=(l=n[a]).length)for(var l,s,f=l[s-1],h=f[0],p=f[1]/2+Qu,d=ia(p),g=ra(p),v=0;v<s;++v,h=y,d=w,g=x,f=m){var m=l[v],y=m[0],_=m[1]/2+Qu,w=ia(_),x=ra(_),M=y-h,b=M>=0?1:-1,S=b*M,E=S>Ju,T=d*w;if(la.add(ea(T*b*ia(S),g*x+T*ra(S))),o+=E?M+b*Ku:M,E^h>=e^y>=e){var C=he(fe(f),fe(m));pe(C);var N=he(i,C);pe(N);var k=(E^M>=0?-1:1)*ue(N[2]);(r>k||r===k&&(C[0]||C[1]))&&(u+=E^M>=0?1:-1)}}return(o<-Gu||o<Gu&&la<-Gu)^1&u},fa=Xu(),ha={sphere:ae,point:ae,lineStart:de,lineEnd:ae,polygonStart:ae,polygonEnd:ae},pa=function(n){return fa.reset(),ca(n,ha),+fa},da=[null,null],ga={type:"LineString",coordinates:da},va=function(n,t){return da[0]=n,da[1]=t,pa(ga)},ma={Feature:function(n,t){return ye(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)if(ye(e[r].geometry,t))return!0;return!1}},ya={Sphere:function(){return!0},Point:function(n,t){return _e(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(_e(e[r],t))return!0;return!1},LineString:function(n,t){return we(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(we(e[r],t))return!0;return!1},Polygon:function(n,t){return xe(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(xe(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)if(ye(e[r],t))return!0;return!1}},_a=function(n,t){return(n&&ma.hasOwnProperty(n.type)?ma[n.type]:ye)(n,t)},wa=function(n){return n},xa=Xu(),Ma=Xu(),ba={point:ae,lineStart:ae,lineEnd:ae,polygonStart:function(){ba.lineStart=Se,ba.lineEnd=Ce},polygonEnd:function(){ba.lineStart=ba.lineEnd=ba.point=ae,xa.add(ta(Ma)),Ma.reset()},result:function(){var n=xa/2;return xa.reset(),n}},Sa=1/0,Ea=Sa,Ta=-Sa,Ca=Ta,Na={point:Ne,lineStart:ae,lineEnd:ae,polygonStart:ae,polygonEnd:ae,result:function(){var n=[[Sa,Ea],[Ta,Ca]];return Ta=Ca=-(Ea=Sa=1/0),n}},ka=0,Aa=0,Ya=0,Da=0,Ua=0,Fa=0,Pa=0,Xa=0,Ba=0,La={point:ke,lineStart:Ae,lineEnd:Ue,polygonStart:function(){La.lineStart=Fe,La.lineEnd=Pe},polygonEnd:function(){La.point=ke,La.lineStart=Ae,La.lineEnd=Ue},result:function(){var n=Ba?[Pa/Ba,Xa/Ba]:Fa?[Da/Fa,Ua/Fa]:Ya?[ka/Ya,Aa/Ya]:[NaN,NaN];return ka=Aa=Ya=Da=Ua=Fa=Pa=Xa=Ba=0,n}};Le.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Ku)}},result:ae};var Oa,ja,qa,Ha,Ra,za=Xu(),$a={point:ae,lineStart:function(){$a.point=Oe},lineEnd:function(){Oa&&je(ja,qa),$a.point=ae},polygonStart:function(){Oa=!0},polygonEnd:function(){Oa=null},result:function(){var n=+za;return za.reset(),n}};qe.prototype={_circle:He(4.5),pointRadius:function(n){return this._circle=He(n),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}}};var Ia=function(n,t){function e(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),ca(n,r(i))),i.result()}var r,i,o=4.5;return e.area=function(n){return ca(n,r(ba)),ba.result()},e.measure=function(n){return ca(n,r($a)),$a.result()},e.bounds=function(n){return ca(n,r(Na)),Na.result()},e.centroid=function(n){return ca(n,r(La)),La.result()},e.projection=function(t){return arguments.length?(r=null==t?(n=null,wa):(n=t).stream,e):n},e.context=function(n){return arguments.length?(i=null==n?(t=null,new qe):new Le(t=n),"function"!=typeof o&&i.pointRadius(o),e):t},e.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(i.pointRadius(+n),+n),e):o},e.projection(n).context(t)};ra(30*na);Re(function(n){return oa(2/(1+n))}).invert=ze(function(n){return 2*ue(n/2)}),Re(function(n){return(n=oe(n))&&n/ia(n)}).invert=ze(function(n){return n});var Za=function(){return new $e};$e.prototype={constructor:$e,reset:function(){this.s=this.t=0},add:function(n){Ie(Wa,n,this.t),Ie(this,Wa.s,this.s),this.s?this.t+=Wa.t:this.s=Wa.t},valueOf:function(){return this.s}};var Wa=new $e,Ga=1e-6,Ja=Math.PI,Va=Ja/2,Qa=Ja/4,Ka=2*Ja,nc=180/Ja,tc=Ja/180,ec=Math.abs,rc=Math.atan,ic=Math.atan2,oc=Math.cos,uc=Math.exp,ac=Math.log,cc=Math.pow,lc=Math.sin,sc=Math.sign||function(n){return n>0?1:n<0?-1:0},fc=Math.sqrt,hc=Math.tan,pc={Feature:function(n,t){Je(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)Je(e[r].geometry,t)}},dc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Ve(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Ve(e[r],t,0)},Polygon:function(n,t){Qe(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Qe(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)Je(e[r],t)}},gc=function(n,t){n&&pc.hasOwnProperty(n.type)?pc[n.type](n,t):Je(n,t)},vc=(Za(),Za(),Za(),function(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e});ur.invert=ur;var mc=function(){var n,t=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){t.push(n=[])},lineEnd:Ge,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}},yc=function(n,t,e,r,i,o){var u,a=n[0],c=n[1],l=t[0],s=t[1],f=0,h=1,p=l-a,d=s-c;if(u=e-a,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>f&&(f=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<f)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>f&&(f=u)}if(u=o-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>f&&(f=u)}else if(d>0){if(u<f)return;u<h&&(h=u)}return f>0&&(n[0]=a+f*p,n[1]=c+f*d),h<1&&(t[0]=a+h*p,t[1]=c+h*d),!0}}}}},_c=function(n,t){return ec(n[0]-t[0])<Ga&&ec(n[1]-t[1])<Ga},wc=function(n,t,e,r,i){var o,u,a=[],c=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(_c(r,u)){for(i.lineStart(),o=0;o<t;++o)i.point((r=n[o])[0],r[1]);return void i.lineEnd()}a.push(e=new pr(r,n,null,!0)),c.push(e.o=new pr(r,null,e,!1)),a.push(e=new pr(u,n,null,!1)),c.push(e.o=new pr(u,null,e,!0))}}),a.length){for(c.sort(t),dr(a),dr(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var l,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=l.length;o<u;++o)i.point((s=l[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((s=l[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,p=!p}while(!h.v);i.lineEnd()}}},xc=1e9,Mc=-xc,bc=(Za(),function(n){return n}),Sc=(Za(),Za(),1/0),Ec=Sc,Tc=-Sc,Cc=Tc,Nc={point:vr,lineStart:Ge,lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge,result:function(){var n=[[Sc,Ec],[Tc,Cc]];return Tc=Cc=-(Ec=Sc=1/0),n}},kc=Za(),Ac=function(n,t){var e=t[0],r=t[1],i=[lc(e),-oc(e),0],o=0,u=0;kc.reset();for(var a=0,c=n.length;a<c;++a)if(s=(l=n[a]).length)for(var l,s,f=l[s-1],h=f[0],p=f[1]/2+Qa,d=lc(p),g=oc(p),v=0;v<s;++v,h=y,d=w,g=x,f=m){var m=l[v],y=m[0],_=m[1]/2+Qa,w=lc(_),x=oc(_),M=y-h,b=M>=0?1:-1,S=b*M,E=S>Ja,T=d*w;if(kc.add(ic(T*b*lc(S),g*x+T*oc(S))),o+=E?M+b*Ka:M,E^h>=e^y>=e){var C=er(nr(f),nr(m));or(C);var N=er(i,C);or(N);var k=(E^M>=0?-1:1)*We(N[2]);(r>k||r===k&&(C[0]||C[1]))&&(u+=E^M>=0?1:-1)}}return(o<-Ga||o<Ga&&kc<-Ga)^1&u},Yc=function(n,t,e,r){return function(i,o){function u(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&o.point(t,e)}function a(n,t){var e=i(n,t);v.point(e[0],e[1])}function c(){x.point=a,v.lineStart()}function l(){x.point=u,v.lineEnd()}function s(n,t){g.push([n,t]);var e=i(n,t);_.point(e[0],e[1])}function f(){_.lineStart(),g=[]}function h(){s(g[0][0],g[0][1]),_.lineEnd();var n,t,e,r,i=_.clean(),u=y.result(),a=u.length;if(g.pop(),p.push(g),g=null,a)if(1&i){if(e=u[0],(t=e.length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart(),n=0;n<t;++n)o.point((r=e[n])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&u.push(u.pop().concat(u.shift())),d.push(u.filter(mr))}var p,d,g,v=t(o),m=i.invert(r[0],r[1]),y=mc(),_=t(y),w=!1,x={point:u,lineStart:c,lineEnd:l,polygonStart:function(){x.point=s,x.lineStart=f,x.lineEnd=h,d=[],p=[]},polygonEnd:function(){x.point=u,x.lineStart=c,x.lineEnd=l,d=si(d);var n=Ac(p,m);d.length?(w||(o.polygonStart(),w=!0),wc(d,yr,n,e,o)):n&&(w||(o.polygonStart(),w=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}},Dc=Yc(function(){return!0},_r,xr,[-Ja,-Va]),Uc=function(n,t){function e(e,r,i,o){fr(o,n,t,i,e,r)}function r(n,t){return oc(n)*oc(t)>a}function i(n){var t,e,i,a,s;return{lineStart:function(){a=i=!1,s=1},point:function(f,h){var p,d=[f,h],g=r(f,h),v=c?g?0:u(f,h):g?u(f+(f<0?Ja:-Ja),h):0;if(!t&&(a=i=g)&&n.lineStart(),g!==i&&(p=o(t,d),(_c(t,p)||_c(d,p))&&(d[0]+=Ga,d[1]+=Ga,g=r(d[0],d[1]))),g!==i)s=0,g?(n.lineStart(),p=o(d,t),n.point(p[0],p[1])):(p=o(t,d),n.point(p[0],p[1]),n.lineEnd()),t=p;else if(l&&t&&c^g){var m;v&e||!(m=o(d,t,!0))||(s=0,c?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!g||t&&_c(t,d)||n.point(d[0],d[1]),t=d,i=g,e=v},lineEnd:function(){i&&n.lineEnd(),t=null},clean:function(){return s|(a&&i)<<1}}}function o(n,t,e){var r=nr(n),i=nr(t),o=[1,0,0],u=er(r,i),c=tr(u,u),l=u[0],s=c-l*l;if(!s)return!e&&n;var f=a*c/s,h=-a*l/s,p=er(o,u),d=ir(o,f);rr(d,ir(u,h));var g=p,v=tr(d,g),m=tr(g,g),y=v*v-m*(tr(d,d)-1);if(!(y<0)){var _=fc(y),w=ir(g,(-v-_)/m);if(rr(w,d),w=Ke(w),!e)return w;var x,M=n[0],b=t[0],S=n[1],E=t[1];b<M&&(x=M,M=b,b=x);var T=b-M,C=ec(T-Ja)<Ga,N=C||T<Ga;if(!C&&E<S&&(x=S,S=E,E=x),N?C?S+E>0^w[1]<(ec(w[0]-M)<Ga?S:E):S<=w[1]&&w[1]<=E:T>Ja^(M<=w[0]&&w[0]<=b)){var k=ir(g,(-v+_)/m);return rr(k,d),[w,Ke(k)]}}}function u(t,e){var r=c?n:Ja-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var a=oc(n),c=a>0,l=ec(a)>Ga;return Yc(r,i,e,c?[0,-n]:[-Ja,n-Ja])};br.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Fc=16,Pc=oc(30*tc),Xc=function(n,t){return+t?Nr(n,t):Cr(n)},Bc=Mr({point:function(n,t){this.stream.point(n*tc,t*tc)}});Yr(function(n){return fc(2/(1+n))}).invert=Dr(function(n){return 2*We(n/2)}),Yr(function(n){return(n=Ze(n))&&n/lc(n)}).invert=Dr(function(n){return n}),Ur.invert=function(n,t){return[n,2*rc(uc(t))-Va]};var Lc=function(){return Ar(Pr).scale(109.5).parallels([30,30])},Oc=1/0,jc=Oc,qc=-Oc,Hc=qc,Rc={point:Br,lineStart:Xr,lineEnd:Xr,polygonStart:Xr,polygonEnd:Xr,result:function(){var n=[[Oc,jc],[qc,Hc]];return qc=Hc=-(jc=Oc=1/0),n}},zc=Math.PI,$c=2*zc,Ic=$c-1e-6;jr.prototype=qr.prototype={constructor:jr,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,i,o){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(n,t,e,r,i){n=+n,t=+t,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-n,c=r-t,l=o-n,s=u-t,f=l*l+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(s*a-c*l)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,g=h*h+p*p,v=Math.sqrt(d),m=Math.sqrt(f),y=i*Math.tan((zc-Math.acos((d+f-g)/(2*v*m)))/2),_=y/m,w=y/v;Math.abs(_-1)>1e-6&&(this._+="L"+(n+_*l)+","+(t+_*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>l*p)+","+(this._x1=n+w*a)+","+(this._y1=t+w*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,e,r,i,o){n=+n,t=+t,e=+e;var u=e*Math.cos(r),a=e*Math.sin(r),c=n+u,l=t+a,s=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),e&&(f<0&&(f=f%$c+$c),f>Ic?this._+="A"+e+","+e+",0,1,"+s+","+(n-u)+","+(t-a)+"A"+e+","+e+",0,1,"+s+","+(this._x1=c)+","+(this._y1=l):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=zc)+","+s+","+(this._x1=n+e*Math.cos(i))+","+(this._y1=t+e*Math.sin(i))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Zc=function(n){return n},Wc=function(n){if(null==(t=n.transform))return Zc;var t,e,r,i=t.scale[0],o=t.scale[1],u=t.translate[0],a=t.translate[1];return function(n,t){return t||(e=r=0),n[0]=(e+=n[0])*i+u,n[1]=(r+=n[1])*o+a,n}},Gc=function(n,t){for(var e,r=n.length,i=r-t;i<--r;)e=n[i],n[i++]=n[r],n[r]=e},Jc=function(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Rr(n,t)})}:Rr(n,t)};!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.rbush=n()}}(function(){return function n(t,e,r){function i(u,a){if(!e[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=e[u]={exports:{}};t[u][0].call(s.exports,function(n){var e=t[u][1][n];return i(e||n)},s,s.exports,n,t,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(n,t,e){function r(n,t){return this instanceof r?(this._maxEntries=Math.max(4,n||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),void this.clear()):new r(n,t)}function i(n,t,e){if(!e)return t.indexOf(n);for(var r=0;r<t.length;r++)if(e(n,t[r]))return r;return-1}function o(n,t){u(n,0,n.children.length,t,n)}function u(n,t,e,r,i){i||(i=v(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,u=t;u<e;u++)o=n.children[u],a(i,n.leaf?r(o):o);return i}function a(n,t){return n.minX=Math.min(n.minX,t.minX),n.minY=Math.min(n.minY,t.minY),n.maxX=Math.max(n.maxX,t.maxX),n.maxY=Math.max(n.maxY,t.maxY),n}function c(n,t){return n.minX-t.minX}function l(n,t){return n.minY-t.minY}function s(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function f(n){return n.maxX-n.minX+(n.maxY-n.minY)}function h(n,t){return(Math.max(t.maxX,n.maxX)-Math.min(t.minX,n.minX))*(Math.max(t.maxY,n.maxY)-Math.min(t.minY,n.minY))}function p(n,t){var e=Math.max(n.minX,t.minX),r=Math.max(n.minY,t.minY),i=Math.min(n.maxX,t.maxX),o=Math.min(n.maxY,t.maxY);return Math.max(0,i-e)*Math.max(0,o-r)}function d(n,t){return n.minX<=t.minX&&n.minY<=t.minY&&t.maxX<=n.maxX&&t.maxY<=n.maxY}function g(n,t){return t.minX<=n.maxX&&t.minY<=n.maxY&&t.maxX>=n.minX&&t.maxY>=n.minY}function v(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(n,t,e,r,i){for(var o,u=[t,e];u.length;)e=u.pop(),t=u.pop(),e-t<=r||(o=t+Math.ceil((e-t)/r/2)*r,y(n,o,t,e,i),u.push(t,o,o,e))}t.exports=r;var y=n("quickselect");r.prototype={all:function(){return this._all(this.data,[])},search:function(n){var t=this.data,e=[],r=this.toBBox;if(!g(n,t))return e;for(var i,o,u,a,c=[];t;){for(i=0,o=t.children.length;i<o;i++)u=t.children[i],a=t.leaf?r(u):u,g(n,a)&&(t.leaf?e.push(u):d(n,a)?this._all(u,e):c.push(u));t=c.pop()}return e},collides:function(n){var t=this.data,e=this.toBBox;if(!g(n,t))return!1;for(var r,i,o,u,a=[];t;){for(r=0,i=t.children.length;r<i;r++)if(o=t.children[r],u=t.leaf?e(o):o,g(n,u)){if(t.leaf||d(n,u))return!0;a.push(o)}t=a.pop()}return!1},load:function(n){if(!n||!n.length)return this;if(n.length<this._minEntries){for(var t=0,e=n.length;t<e;t++)this.insert(n[t]);return this}var r=this._build(n.slice(),0,n.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(n){return n&&this._insert(n,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(n,t){if(!n)return this;for(var e,r,o,u,a=this.data,c=this.toBBox(n),l=[],s=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],e=s.pop(),u=!0),a.leaf&&-1!==(o=i(n,a.children,t)))return a.children.splice(o,1),l.push(a),this._condense(l),this;u||a.leaf||!d(a,c)?r?(e++,a=r.children[e],u=!1):a=null:(l.push(a),s.push(e),e=0,r=a,a=a.children[0])}return this},toBBox:function(n){return n},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(n){return this.data=n,this},_all:function(n,t){for(var e=[];n;)n.leaf?t.push.apply(t,n.children):e.push.apply(e,n.children),n=e.pop();return t},_build:function(n,t,e,r){var i,u=e-t+1,a=this._maxEntries;if(u<=a)return i=v(n.slice(t,e+1)),o(i,this.toBBox),i;r||(r=Math.ceil(Math.log(u)/Math.log(a)),a=Math.ceil(u/Math.pow(a,r-1))),i=v([]),i.leaf=!1,i.height=r;var c,l,s,f,h=Math.ceil(u/a),p=h*Math.ceil(Math.sqrt(a));for(m(n,t,e,p,this.compareMinX),c=t;c<=e;c+=p)for(s=Math.min(c+p-1,e),m(n,c,s,h,this.compareMinY),l=c;l<=s;l+=h)f=Math.min(l+h-1,s),i.children.push(this._build(n,l,f,r-1));return o(i,this.toBBox),i},_chooseSubtree:function(n,t,e,r){for(var i,o,u,a,c,l,f,p;r.push(t),!t.leaf&&r.length-1!==e;){for(f=p=1/0,i=0,o=t.children.length;i<o;i++)u=t.children[i],c=s(u),l=h(n,u)-c,l<p?(p=l,f=c<f?c:f,a=u):l===p&&c<f&&(f=c,a=u);t=a||t.children[0]}return t},_insert:function(n,t,e){var r=this.toBBox,i=e?n:r(n),o=[],u=this._chooseSubtree(i,this.data,t,o);for(u.children.push(n),a(u,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(n,t){var e=n[t],r=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,r);var u=this._chooseSplitIndex(e,i,r),a=v(e.children.splice(u,e.children.length-u));a.height=e.height,a.leaf=e.leaf,o(e,this.toBBox),o(a,this.toBBox),t?n[t-1].children.push(a):this._splitRoot(e,a)},_splitRoot:function(n,t){this.data=v([n,t]),this.data.height=n.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(n,t,e){var r,i,o,a,c,l,f,h;for(l=f=1/0,r=t;r<=e-t;r++)i=u(n,0,r,this.toBBox),o=u(n,r,e,this.toBBox),a=p(i,o),c=s(i)+s(o),a<l?(l=a,h=r,f=c<f?c:f):a===l&&c<f&&(f=c,h=r);return h},_chooseSplitAxis:function(n,t,e){var r=n.leaf?this.compareMinX:c,i=n.leaf?this.compareMinY:l;this._allDistMargin(n,t,e,r)<this._allDistMargin(n,t,e,i)&&n.children.sort(r)},_allDistMargin:function(n,t,e,r){n.children.sort(r);var i,o,c=this.toBBox,l=u(n,0,t,c),s=u(n,e-t,e,c),h=f(l)+f(s);for(i=t;i<e-t;i++)o=n.children[i],a(l,n.leaf?c(o):o),h+=f(l);for(i=e-t-1;i>=t;i--)o=n.children[i],a(s,n.leaf?c(o):o),h+=f(s);return h},_adjustParentBBoxes:function(n,t,e){for(var r=e;r>=0;r--)a(t[r],n)},_condense:function(n){for(var t,e=n.length-1;e>=0;e--)0===n[e].children.length?e>0?(t=n[e-1].children,t.splice(t.indexOf(n[e]),1)):this.clear():o(n[e],this.toBBox)},_initFormat:function(n){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(n[0])),this.compareMinY=new Function("a","b",t.join(n[1])),this.toBBox=new Function("a","return {minX: a"+n[0]+", minY: a"+n[1]+", maxX: a"+n[2]+", maxY: a"+n[3]+"};")}}},{quickselect:2}],2:[function(n,t,e){function r(n,t,e,o,u){for(;o>e;){if(o-e>600){var a=o-e+1,c=t-e+1,l=Math.log(a),s=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*s*(a-s)/a)*(c-a/2<0?-1:1);r(n,t,Math.max(e,Math.floor(t-c*s/a+f)),Math.min(o,Math.floor(t+(a-c)*s/a+f)),u)}var h=n[t],p=e,d=o;for(i(n,e,t),u(n[o],h)>0&&i(n,e,o);p<d;){for(i(n,p,d),p++,d--;u(n[p],h)<0;)p++;for(;u(n[d],h)>0;)d--}0===u(n[e],h)?i(n,e,d):(d++,i(n,d,o)),d<=t&&(e=d+1),t<=d&&(o=d-1)}}function i(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}t.exports=r},{}]},{},[1])(1)});var Vc=Pu("canvas").node().getContext("2d"),Qc=function(){function n(n){var t=n[0],e=n[1];return u=null,i.point(t,e),u||(o.point(t,e),u)}function t(){return e=r=null,n}var e,r,i,o,u,a=Lc().rotate([5,-38.6]).parallels([0,60]),c=Lc().rotate([5,-38.6]).parallels([0,60]),l={point:function(n,t){u=[n,t]}};return n.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?c:a).invert(n)},n.stream=function(n){return e&&r===n?e:e=Hr([a.stream(r=n),c.stream(n)])},n.precision=function(n){return arguments.length?(a.precision(n),c.precision(n),t()):a.precision()},n.scale=function(t){return arguments.length?(a.scale(t),c.scale(t),n.translate(a.translate())):a.scale()},n.translate=function(n){if(!arguments.length)return a.translate();var e=a.scale(),r=+n[0],u=+n[1];return i=a.translate(n).clipExtent([[r-.06857*e,u-.1288*e],[r+.13249*e,u+.06*e]]).stream(l),o=c.translate([r+.1*e,u-.094*e]).clipExtent([[r-.1331*e+1e-6,u+.053457*e+1e-6],[r-.0354*e-1e-6,u+.08969*e-1e-6]]).stream(l),t()},n.fitExtent=function(t,e){return Lr(n,t,e)},n.fitSize=function(t,e){return Or(n,t,e)},n.drawCompositionBorders=function(n){var t=a([-14.034675,34.965007]),e=a([-7.4208899,35.536988]),r=a([-7.3148275,33.54359]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1])},n.getCompositionBorders=function(){var n=qr();return this.drawCompositionBorders(n),n.toString()},n.scale(2700)}(),Kc=Ia(Qc,Vc),nl=Ia(Qc),tl=Pu("svg").append("g").attr("pointer-events","none"),el=Pu(".tooltip");u().defer(Qr,"municipalities.json").defer(Qr,"data.json").await($r)});
